import base64
from Crypto.Cipher import AES

#criando uma chave de criptografia
chave = "0123456789ABCDEF"
aes = AES.new(chave, AES.MODE_ECB)

#recebe o arquivo a ser criptografado
arquivo = raw_input()


#ler o arquivo
arq_entrada = open(arquivo, "r")
#esta etapa iremos decodificar os caracteres para sua forma original
arq_entrada = base64.b32decode(arq_entrada.read())

#vamos recuperar o nome do arquivo e retirar os 
#caracteres adicionais que colocamos na etapa passada
titulo_antigo=aes.decrypt(base64.b32decode(arquivo))
titulo_antigo=titulo_antigo.rstrip('#')

#vamos repetir o processo para o conteudo do arquivo
texto_recuperado=aes.decrypt(arq_entrada)
texto_recuperado=texto_recuperado.rstrip('#')

#e por fim vamos recriar o arquivo na sua forma original
arq_saida2 = open(titulo_antigo,"w")
arq_saida2.write(texto_recuperado)



