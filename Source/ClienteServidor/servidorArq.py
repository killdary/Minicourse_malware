import socket

HOST = ''              									# Endereco IP do Servidor
PORT = 5000            									# Porta que o Servidor esta

tcp = socket.socket(socket.AF_INET, socket.SOCK_STREAM) #cria um socket para conectar o cliente e o servidor
orig = (HOST, PORT)
tcp.bind(orig)											#coloca o endereço local, o IP e a porta no socket
tcp.listen(1)											#esta função faz com que o servidor fique no modo passivo, esperando conexões

conn, addr = tcp.accept()								#aceita uma nova conexão
arq = open('rc1.jpg', 'w')								#Abre um arquivo no modo escrita

while 1:
    dados = conn.recv(1024)								#recebe a linha de dados enviado pelo cliente até encontrar um caractere nulo
    if not dados:
        break
    arq.write(dados)									#os dados recebidos são escritos no arquivo

arq.close()												#fecha o arquivo
tcp.close()												#fecha a conexao
